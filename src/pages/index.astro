---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';

const featuredProjects = (await getCollection('projects'))
  .filter(project => project.data.featured)
  .sort((a, b) => (b.data.year || 0) - (a.data.year || 0));
---

<BaseLayout title="Stephen Zweibel - Digital Scholarship Librarian">
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="py-16">
      <div class="mb-12">
        <h1 class="text-3xl font-semibold text-gray-900 mb-2">
          Stephen Zweibel
        </h1>
        <p class="text-lg text-gray-600 mb-8">
          Digital Scholarship Librarian, CUNY Graduate Center
        </p>

        <div class="prose prose-lg max-w-none text-gray-700">
          <p>
            I support students and faculty in developing digital projects and working with data, individually and through workshops and classes on research skills and tools.
          </p>
          <p>
            My work focuses on democratizing computational literacy in the humanities through teaching, tool development, and infrastructure projects.
          </p>
        </div>
      </div>
    </div>

    <!-- Selected Projects -->
    {featuredProjects.length > 0 && (
      <div class="border-t border-gray-200 pt-12">
        <h2 class="text-xl font-semibold text-gray-900 mb-6">Selected Projects</h2>
        <div class="space-y-4">
          {featuredProjects.map((project) => (
            <div class="border-l-2 border-gray-300 pl-4">
              <h3 class="font-medium text-gray-900">
                <a href={`/projects/${project.slug}`} class="hover:text-blue-600">
                  {project.data.title}
                </a>
              </h3>
              <p class="text-sm text-gray-600 mt-1">{project.data.description}</p>
            </div>
          ))}
        </div>
        <div class="mt-6">
          <a href="/projects" class="text-sm text-blue-600 hover:text-blue-800">
            View all projects â†’
          </a>
        </div>
      </div>
    )}

    <!-- Contact -->
    <div class="border-t border-gray-200 pt-12 mt-12">
      <h2 class="text-xl font-semibold text-gray-900 mb-4">Contact</h2>
      <div class="text-gray-700 space-y-1">
        <p><a href="mailto:szweibel@gc.cuny.edu" class="hover:text-blue-600">szweibel@gc.cuny.edu</a></p>
        <p>Mina Rees Library, Room 2313</p>
        <p>The Graduate Center, CUNY</p>
      </div>
    </div>
  </div>
</BaseLayout>
