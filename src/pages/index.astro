---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';

const featuredProjects = (await getCollection('projects'))
  .filter(project => project.data.featured)
  .sort((a, b) => (b.data.year || 0) - (a.data.year || 0));
---

<BaseLayout title="Stephen Zweibel - Digital Scholarship Librarian">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Hero Section -->
    <div class="py-20">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-12">
        <div class="md:col-span-1">
          <img
            src="/images/SteveProfile.jpeg"
            alt="Stephen Zweibel"
            class="rounded-full w-48 h-48 mx-auto md:mx-0 object-cover shadow-lg"
          />
        </div>
        <div class="md:col-span-2 flex flex-col justify-center">
          <h1 class="text-4xl font-bold text-gray-900 mb-4">
            Stephen Zweibel
          </h1>
          <p class="text-xl text-gray-600 mb-6">
            Digital Scholarship Librarian & Associate Professor
          </p>
          <p class="text-lg text-gray-700 leading-relaxed mb-6">
            Digital Scholarship Librarian at the CUNY Graduate Center, where I support students and faculty in developing digital projects and working with data, individually and through workshops and classes on research skills and tools.
          </p>
          <p class="text-lg text-gray-700 leading-relaxed">
            I earned my MS in Library and Information Science from Long Island University in 2010, and my MA in the Digital Humanities track of the GC's Liberal Studies (MALS) program in 2016. I see <strong>democratizing computational literacy</strong> as a core focus of my service and scholarship.
          </p>
        </div>
      </div>
    </div>

    <!-- Key Achievements -->
    <div class="py-12 bg-gray-50 -mx-4 sm:-mx-6 lg:-mx-8 px-4 sm:px-6 lg:px-8">
      <div class="max-w-6xl mx-auto">
        <h2 class="text-2xl font-bold text-gray-900 mb-8">Highlights</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <div class="bg-white p-6 rounded-lg shadow-sm">
            <div class="text-3xl font-bold text-blue-600 mb-2">$622K</div>
            <div class="text-sm font-medium text-gray-600 uppercase mb-2">NEH Grants</div>
            <div class="text-gray-700">
              Principal or Co-PI on multiple NEH grants including DHRIFT (Level III Advancement) and DH Box (Start-Up)
            </div>
          </div>
          <div class="bg-white p-6 rounded-lg shadow-sm">
            <div class="text-3xl font-bold text-blue-600 mb-2">40+</div>
            <div class="text-sm font-medium text-gray-600 uppercase mb-2">Open Source Projects</div>
            <div class="text-gray-700">
              Creator and maintainer of digital humanities tools, libraries, and educational resources on GitHub
            </div>
          </div>
          <div class="bg-white p-6 rounded-lg shadow-sm">
            <div class="text-3xl font-bold text-blue-600 mb-2">10+</div>
            <div class="text-sm font-medium text-gray-600 uppercase mb-2">Years Teaching</div>
            <div class="text-gray-700">
              Teaching JavaScript, Python, and AI-assisted programming to graduate students in the humanities
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Featured Projects -->
    {featuredProjects.length > 0 && (
      <div class="py-16">
        <h2 class="text-3xl font-bold text-gray-900 mb-8">Featured Projects</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
          {featuredProjects.map(async (project) => {
            const { Content } = await project.render();
            return (
              <div class="border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow">
                <div class="flex items-start justify-between mb-4">
                  <h3 class="text-xl font-bold text-gray-900">
                    <a href={`/projects/${project.slug}`} class="hover:text-blue-600">
                      {project.data.title}
                    </a>
                  </h3>
                  {project.data.stars && (
                    <span class="text-sm text-gray-600 flex items-center">
                      <svg class="w-4 h-4 mr-1 fill-current text-yellow-500" viewBox="0 0 20 20">
                        <path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"/>
                      </svg>
                      {project.data.stars}
                    </span>
                  )}
                </div>
                <p class="text-gray-700 mb-4">{project.data.description}</p>
                <div class="flex items-center space-x-4 text-sm">
                  {project.data.github && (
                    <a href={project.data.github} target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:text-blue-800">
                      GitHub →
                    </a>
                  )}
                  <a href={`/projects/${project.slug}`} class="text-blue-600 hover:text-blue-800">
                    Learn more →
                  </a>
                </div>
              </div>
            );
          })}
        </div>
        <div class="mt-8 text-center">
          <a href="/projects" class="text-blue-600 hover:text-blue-800 font-medium">
            View all projects →
          </a>
        </div>
      </div>
    )}

    <!-- Contact -->
    <div class="py-16 border-t border-gray-200">
      <h2 class="text-3xl font-bold text-gray-900 mb-8">Get in Touch</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        <div>
          <h3 class="text-lg font-medium text-gray-900 mb-4">Contact Information</h3>
          <ul class="space-y-3">
            <li class="flex items-center text-gray-700">
              <svg class="w-5 h-5 mr-3 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
              </svg>
              <a href="mailto:szweibel@gc.cuny.edu" class="hover:text-blue-600">szweibel@gc.cuny.edu</a>
            </li>
            <li class="flex items-center text-gray-700">
              <svg class="w-5 h-5 mr-3 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
              </svg>
              <span>212-817-7067 (x7067)</span>
            </li>
            <li class="flex items-center text-gray-700">
              <svg class="w-5 h-5 mr-3 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
              </svg>
              <span>Mina Rees Library, Room 2313</span>
            </li>
          </ul>
        </div>
        <div>
          <h3 class="text-lg font-medium text-gray-900 mb-4">Research Interests</h3>
          <div class="flex flex-wrap gap-2">
            <span class="px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm">Digital Humanities</span>
            <span class="px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm">AI & Machine Learning</span>
            <span class="px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm">Data Visualization</span>
            <span class="px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm">Programming Pedagogy</span>
            <span class="px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm">Library Technology</span>
            <span class="px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm">Web Development</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</BaseLayout>
